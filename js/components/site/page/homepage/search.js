window.addEventListener("load",(function(){var e=document.querySelector('[name="csrf-token"]').content,t=document.querySelector("#homepage-search-form"),a=t.querySelector("select[name=make]"),n=t.querySelector("select[name=model]"),o=t.querySelector("input[name=zip_code]");a.addEventListener("change",(function(t){var o,r;o=a.querySelector(".make-option:checked").dataset.modelsUrl,(r=new XMLHttpRequest).addEventListener("load",(function(e){200==parseInt(e.target.status)&&(n.value="",n.querySelectorAll(".model-option").forEach((function(e){e.remove()})),JSON.parse(e.target.response).forEach((function(e){var t=document.createElement("option");t.innerHTML=e.name,t.value=e.slug,t.classList.add("model-option"),n.append(t)})),n.disabled=!1)})),r.open("GET",o),r.setRequestHeader("X-CSRF-TOKEN",e),r.setRequestHeader("accept","application/json"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send()})),t.addEventListener("submit",(function(e){e.preventDefault();var r=t.action;n.value?r+="/"+n.value:a.value&&(r+="/"+a.value);var c=new URLSearchParams;o.value&&(c.append("zip",o.value),c.append("radius","3500"));var u=c.toString();u&&(r+="?"+u),window.location.replace(r)}))}));