(()=>{function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}window.addEventListener("load",(function(){var t=document.getElementsByName("csrf-token")[0].getAttribute("content");document.querySelectorAll(".email-subscribe-form").forEach((function(r){r.addEventListener("submit",(function(n){n.preventDefault(),function(r){var n=new XMLHttpRequest,a=new FormData(r);n.addEventListener("load",(function(t){var n=r.elements;n.forEach((function(e){e.classList.remove("is-invalid"),e.classList.add("is-valid")})),r.getElementsByClassName("invalid-feedback").forEach((function(e){e.innerHTML=""}));var a=parseInt(t.target.status);if(422===a){var i=JSON.parse(t.target.response);if(void 0!==i.errors)for(var s=0,o=Object.entries(i.errors);s<o.length;s++){var l=e(o[s],2),u=l[0],c=l[1];n[u].classList.remove("is-valid"),n[u].classList.add("is-invalid"),n[u].parentElement.getElementsByClassName("invalid-feedback")[0].innerHTML=c[0]}}else[419].includes(a)?window.location.reload():[200].includes(a)&&("undefined"!=typeof dataLayer&&dataLayer.push({event:"newsletter_subscribed"}),n.forEach((function(e){e.value=""})),r.querySelector("button[type=submit]").disabled=!0,r.classList.add("visually-hidden"),r.closest(".email-subscribe-container").querySelector(".subscribed-message").classList.remove("visually-hidden"))})),n.open("POST",r.getAttribute("action")),n.setRequestHeader("X-CSRF-TOKEN",t),n.setRequestHeader("accept","application/json"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a)}(r)}))}))}))})();